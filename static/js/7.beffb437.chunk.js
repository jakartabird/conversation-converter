(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[7],{596:function(e,t,a){e.exports=a.p+"static/media/logo.16fe7527.svg"},652:function(e,t,a){"use strict";a.r(t);var n=a(158),r=a(159),l=a(160),o=a(162),s=a(161),c=a(502),i=a(1),m=a.n(i),d=a(555),u=a(546),h=a(596),E=a.n(h),S=a(534),f=a.n(S),g=a(543),p=(a(614),a(545),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleSubmit=function(){var e=r.state,t=e.accessKey,a=e.conversationId,n=e.limit,o=e.offset,s=Object(l.a)(r);r.setState({isLoading:!0,success:!0}),""===t&&""===a||null===t&&null===a?(s.setState({isLoading:!1,success:!0}),g.b.error("Not found!")):f()({method:"GET",url:"https://conversations.messagebird.com/v1/conversations/"+a+"/messages",headers:{Authorization:"AccessKey "+t,"Access-Control-Allow-Origin":"*"},data:{limit:n,offset:o}}).then((function(e){200===e.status&&(console.log(e),s.setState({items:e.data.items}),s.changeMessage(),s.setState({isLoading:!1,success:!0}))})).catch((function(e){e.response&&401===e.response.status?(s.setState({isLoading:!1,success:!1}),g.b.error("Unathorized!")):(s.setState({isLoading:!1,success:!1}),g.b.error("Something went wrong!"))}))},r.showDatatables=function(){return m.a.createElement(d.BootstrapTable,{data:r.state.data,exportCSV:!0,pagination:!0,search:!0,multiColumnSearch:!0,options:{noDataText:"No data yet...",defaultSortName:"createdDatetime",defaultSortOrder:"desc"}},m.a.createElement(d.TableHeaderColumn,{dataField:"id",isKey:!0,dataSort:!0},"ID"),m.a.createElement(d.TableHeaderColumn,{dataField:"channelId",searchable:!0,dataSort:!0,thStyle:{whiteSpace:"normal"},tdStyle:{whiteSpace:"normal"}},"Channel ID"),m.a.createElement(d.TableHeaderColumn,{dataField:"from",searchable:!0,dataSort:!0,thStyle:{whiteSpace:"normal"},tdStyle:{whiteSpace:"normal"}},"From"),m.a.createElement(d.TableHeaderColumn,{dataField:"to",searchable:!0,dataSort:!0,thStyle:{whiteSpace:"normal"},tdStyle:{whiteSpace:"normal"}},"To"),m.a.createElement(d.TableHeaderColumn,{dataField:"content",searchable:!0,dataSort:!0,thStyle:{whiteSpace:"normal"},tdStyle:{whiteSpace:"normal"}},"Content"),m.a.createElement(d.TableHeaderColumn,{dataField:"createdDatetime",dataSort:!0,thStyle:{whiteSpace:"normal"},tdStyle:{whiteSpace:"normal"}},"Created On"))},r.changeMessage=function(){var e=r.state.items,t=[];for(var a in e)t[a]={id:e[a].id,from:e[a].from,to:e[a].to,channelId:e[a].channelId,createdDatetime:e[a].createdDatetime,updatedDatetime:e[a].updatedDatetime,content:e[a].content.text};r.setState({data:t}),console.log(t)},r.showForms=function(){var e=r.state,t=e.isLoading,a=e.success,n=e.conversationId,l=e.accessKey,o=e.offset,s=e.limit;return m.a.createElement("div",{style:{marginTop:"2em"}},m.a.createElement(g.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),m.a.createElement(c.n,{row:!0},m.a.createElement(c.i,{md:"4"},m.a.createElement(c.u,{style:{fontSize:"small"}},"Conv. ID")),m.a.createElement(c.i,{md:"8"},m.a.createElement(c.t,{type:"text",disabled:t,value:n,onChange:function(e){return r.setState({conversationId:e.target.value})}}))),m.a.createElement(c.n,{row:!0},m.a.createElement(c.i,{md:"4"},m.a.createElement(c.u,{style:{fontSize:"small"}},"Access Key")),m.a.createElement(c.i,{md:"8"},m.a.createElement(c.t,{type:"text",disabled:t,value:l,onChange:function(e){return r.setState({accessKey:e.target.value})}}))),m.a.createElement(c.n,{row:!0},m.a.createElement(c.i,{md:"4"},m.a.createElement(c.u,{style:{fontSize:"small"}},"Limit")),m.a.createElement(c.i,{md:"8"},m.a.createElement(c.t,{type:"number",min:"0",max:"100",disabled:t,value:s,onChange:function(e){return r.setState({limit:e.target.value})}}))),m.a.createElement(c.n,{row:!0},m.a.createElement(c.i,{md:"4"},m.a.createElement(c.u,{style:{fontSize:"small"}},"Offset")),m.a.createElement(c.i,{md:"8"},m.a.createElement(c.t,{type:"number",min:"0",max:"100",disabled:t,value:o,onChange:function(e){return r.setState({offset:e.target.value})}}))),m.a.createElement(c.n,{row:!0},m.a.createElement(c.i,{md:"12"},t?m.a.createElement("center",null,m.a.createElement(u.HashLoader,{color:"#123abc",loading:t}),m.a.createElement("br",null)," Please wait..."):m.a.createElement("center",null,m.a.createElement(c.e,{color:"success",disabled:t,onClick:function(){return r.handleSubmit()}},"Convert")))),m.a.createElement("hr",null),m.a.createElement("h2",null,"Result"),!!t||(!a||r.showDatatables()),m.a.createElement(c.w,null))},r.state={isLoading:!1,success:!0,conversationId:"",accessKey:"",limit:10,offset:0,items:[],data:[]},r}return Object(r.a)(a,[{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"app flex-row align-items-center login-body"},m.a.createElement(c.j,null,m.a.createElement(c.w,{className:"justify-content-center"},m.a.createElement(c.i,{md:"8"},m.a.createElement(c.h,null,m.a.createElement(c.f,{className:"p-4"},m.a.createElement(c.g,null,m.a.createElement("img",{src:E.a,alt:"mb-logo",className:"mb-logo",style:{height:"auto",width:"8em",marginBottom:"2em"}}),m.a.createElement("h2",null,"Converter"),this.showForms()))))))))}}]),a}(i.Component));t.default=p}}]);
//# sourceMappingURL=7.beffb437.chunk.js.map